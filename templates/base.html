<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Universitetlar Ro'yxati{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles if needed */
        body { font-family: 'Inter', sans-serif; } /* Example font */
        .filter-section { margin-bottom: 1rem; }
        .filter-section label { display: block; margin-bottom: 0.5rem; font-weight: 600; }
        .filter-section select,
        .filter-section input[type="text"],
        .filter-section input[type="number"] {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.375rem; /* rounded-md */
        }
        .filter-section input[type="checkbox"],
        .filter-section input[type="radio"] {
             margin-right: 0.5rem;
        }
        .filter-checkbox-group label { display: inline-block; margin-right: 1rem; font-weight: normal;}
        .pagination a, .pagination span {
            padding: 0.5rem 0.75rem;
            margin: 0 0.25rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            text-decoration: none;
            color: #3b82f6; /* blue-500 */
        }
        .pagination .current {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            border-color: #3b82f6;
        }
        .pagination a:hover {
             background-color: #eff6ff; /* blue-50 */
        }
    </style>
    {% block head %}{% endblock %}
</head>
<body class="bg-gray-100">

    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <span class="text-xl font-bold text-blue-600">UniList</span>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a href="{% url 'university_app:university_list' %}" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                            Universitetlar
                        </a>
                        <a href="{% url 'university_app:direction_list' %}" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                            Yo'nalishlar
                        </a>
                    </div>
                </div>
                </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row gap-6">
            <aside class="w-full md:w-1/4 lg:w-1/5">
                <div class="bg-white p-4 rounded-lg shadow">
                    <h2 class="text-lg font-semibold mb-4">Filtrlar</h2>
                    <form method="get" action="">
                        {% block filters %}
                        {% endblock %}
                        <button type="submit" class="mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-150">
                            Filtrlash
                        </button>
                         <a href="{{ request.path }}" class="mt-2 block text-center w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition duration-150">
                            Tozalash
                        </a>
                    </form>
                </div>
            </aside>

            <section class="w-full md:w-3/4 lg:w-4/5">
                {% block content %}
                {% endblock %}

                {% if page_obj and page_obj.has_other_pages %}
                <div class="mt-6 flex justify-center pagination">
                    {% if page_obj.has_previous %}
                        <a href="?page=1{% for key, value in applied_filters.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}">&laquo; Boshiga</a>
                        <a href="?page={{ page_obj.previous_page_number }}{% for key, value in applied_filters.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}">&lsaquo; Oldingisi</a>
                    {% endif %}

                    {% for num in page_obj.paginator.page_range %}
                        {% if page_obj.number == num %}
                            <span class="current">{{ num }}</span>
                        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                             <a href="?page={{ num }}{% for key, value in applied_filters.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}">{{ num }}</a>
                        {% elif num == page_obj.number|add:'-3' or num == page_obj.number|add:'3' %}
                            <span>...</span>
                        {% endif %}
                    {% endfor %}


                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}{% for key, value in applied_filters.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}">Keyingisi &rsaquo;</a>
                        <a href="?page={{ page_obj.paginator.num_pages }}{% for key, value in applied_filters.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}">Oxiriga &raquo;</a>
                    {% endif %}
                </div>
                {% endif %}
            </section>
        </div>
    </main>

    <footer class="bg-white mt-10 py-4 border-t">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-500 text-sm">
            &copy; {% now "Y" %} University List. Barcha huquqlar himoyalangan.
        </div>
    </footer>

    {% block scripts %}{% endblock %}
</body>
</html>
